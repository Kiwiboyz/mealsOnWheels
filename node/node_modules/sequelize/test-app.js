"use strict";
/* jshint esnext:true, -W110 */

var Sequelize, sequelize, DataTypes, Promise = require('bluebird'), _ = require('lodash'), moment = require('moment');

Sequelize = DataTypes = require('./index.js');
<<<<<<< HEAD
// var db = sequelize = new Sequelize('sequelize_test', 'sequelize_test', 'sequelize_test', {
//   dialect: 'mysql',
//   port: 8999,
=======
// var db = sequelize = new Sequelize('sequelize', 'root', '', {
>>>>>>> a7c3d10f911c4d9db71c2a3c5b34c480919b989d
var db = sequelize = new Sequelize('sequelize_test', 'postgres', 'postgres', {
  dialect: 'postgres',
//var db = sequelize = new Sequelize('sequelize-test-72', 'sequelize', 'nEGkLma26gXVHFUAHJxcmsrK', {
//   dialect: 'sqlite',
  //dialect: 'mssql',
  //host: 'mssql.sequelizejs.com',
  //port: 11433,
  // dialect: 'sqlite',
  //storage: '/tmp/test.sqlite',
//  timezone: '+05:30',
  define: {
<<<<<<< HEAD
    timestamps: false,
  },
  logging: console.log

});

const User = sequelize.define('user', {
  name: Sequelize.STRING
});



=======
    // timestamps: false,
  },
  logging: console.log
});

const Company = sequelize.define('company', {
  name: Sequelize.STRING
});

>>>>>>> a7c3d10f911c4d9db71c2a3c5b34c480919b989d
return sequelize.sync({
  force: true,
  logging: console.log
})
  .then(() => {
<<<<<<< HEAD
    return User.findAll({
      attributes: {
        include: [[sequelize.literal('COUNT(*) OVER()'), 'totalCount']]
      }
    });
  })
  .then(console.log)
  .finally(() => {
    sequelize.close();
  });
=======
    let name = 'jan'
    return Company.findAll({where: {name: {$iLike: "%"+name+"%"}}})
  })
  .finally(() => sequelize.close());
>>>>>>> a7c3d10f911c4d9db71c2a3c5b34c480919b989d
